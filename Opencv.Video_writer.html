<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<link rel="stylesheet" href="style.css" type="text/css">
<meta content="text/html; charset=iso-8859-1" http-equiv="Content-Type">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="Start" href="index.html">
<link rel="previous" href="Opencv.Video_capture.html">
<link rel="next" href="Opencv.Draw.html">
<link rel="Up" href="Opencv.html">
<link title="Index of types" rel=Appendix href="index_types.html">
<link title="Index of values" rel=Appendix href="index_values.html">
<link title="Index of modules" rel=Appendix href="index_modules.html">
<link title="Opencv" rel="Chapter" href="Opencv.html"><title>Opencv.Video_writer</title>
</head>
<body>
<div class="navbar"><a class="pre" href="Opencv.Video_capture.html" title="Opencv.Video_capture">Previous</a>
&nbsp;<a class="up" href="Opencv.html" title="Opencv">Up</a>
&nbsp;<a class="post" href="Opencv.Draw.html" title="Opencv.Draw">Next</a>
</div>
<h1>Module <a href="type_Opencv.Video_writer.html">Opencv.Video_writer</a></h1>

<pre><span id="MODULEVideo_writer"><span class="keyword">module</span> Video_writer</span>: <code class="code">sig</code> <a href="Opencv.Video_writer.html">..</a> <code class="code">end</code></pre><hr width="100%">

<pre><span id="TYPEt"><span class="keyword">type</span> <code class="type"></code>t</span> </pre>


<pre><span id="VALvideo_writer1"><span class="keyword">val</span> video_writer1</span> : <code class="type">unit -> <a href="Opencv.Video_writer.html#TYPEt">t</a></code></pre><div class="info ">
<div class="info-desc">
<p>Usage: <code class="code">video_writer1 ()</code></p>

<p>Default constructors</p>

<p>The constructors/functions initialize video writers.</p>
<ul>
<li>  On Linux FFMPEG is used to write videos;</li>
<li>  On Windows FFMPEG or MSWF or DSHOW is used;</li>
<li>  On MacOSX AVFoundation is used.</li>
</ul>
</div>
</div>

<pre><span id="VALvideo_writer2"><span class="keyword">val</span> video_writer2</span> : <code class="type">?is_color:bool -><br>       string -> int -> float -> <a href="Opencv.html#TYPEsize2i">Opencv.size2i</a> -> <a href="Opencv.Video_writer.html#TYPEt">t</a></code></pre><div class="info ">
<div class="info-desc">
<p>Usage: <code class="code">video_writer2 ?is_color filename fourcc fps frame_size</code></p>

<ul>
<li>Parameter: <code class="code">filename</code>: Name of the output video file.</li>
<li>Parameter: <code class="code">fourcc</code>: 4-character code of codec used to compress the frames. For example,
    VideoWriter::fourcc('P','I','M','1') is a MPEG-1 codec, VideoWriter::fourcc('M','J','P','G') is a
    motion-jpeg codec etc. List of codes can be obtained at <code class="code">Video Codecs by
    FOURCC</code>(http://www.fourcc.org/codecs.php) page. FFMPEG backend with MP4 container natively uses
    other values as fourcc code: see <code class="code">ObjectType</code>(http://mp4ra.org/#/codecs),
    so you may receive a warning message from OpenCV about fourcc code conversion.</li>
<li>Parameter: <code class="code">fps</code>: Framerate of the created video stream.</li>
<li>Parameter: <code class="code">frame_size</code>: Size of the video frames.</li>
<li>Parameter: <code class="code">is_color</code>: If it is not zero, the encoder will expect and encode color frames, otherwise it
    will work with grayscale frames.</li>
</ul>
<p>Tips:</p>
<ul>
<li>With some backends <code class="code">fourcc=-1</code> pops up the codec selection dialog from the system.</li>
<li>To save image sequence use a proper filename (eg. <code class="code">img_%02d.jpg</code>) and <code class="code">fourcc=0</code>
      OR <code class="code">fps=0</code>. Use uncompressed image format (eg. <code class="code">img_%02d.BMP</code>) to save raw frames.</li>
<li>Most codecs are lossy. If you want lossless video file you need to use a lossless codecs
      (eg. FFMPEG FFV1, Huffman HFYU, Lagarith LAGS, etc...)</li>
<li>If FFMPEG is enabled, using <code class="code">codec=0; fps=0;</code> you can create an uncompressed (raw) video file.</li>
</ul>
</div>
</div>

<pre><span id="VALvideo_writer3"><span class="keyword">val</span> video_writer3</span> : <code class="type">?is_color:bool -><br>       string -> int -> int -> float -> <a href="Opencv.html#TYPEsize2i">Opencv.size2i</a> -> <a href="Opencv.Video_writer.html#TYPEt">t</a></code></pre><div class="info ">
<div class="info-desc">
<p>Usage: <code class="code">video_writer3 ?is_color filename api_preference fourcc fps frame_size</code></p>

<p>The <code class="code">apiPreference</code> parameter allows to specify API backends to use. Can be used to enforce a specific reader implementation
    if multiple are available: e.g. cv::CAP_FFMPEG or cv::CAP_GSTREAMER.</p>
</div>
</div>

<pre><span id="VALvideo_writer4"><span class="keyword">val</span> video_writer4</span> : <code class="type">string -> int -> float -> <a href="Opencv.html#TYPEsize2i">Opencv.size2i</a> -> int list -> <a href="Opencv.Video_writer.html#TYPEt">t</a></code></pre><div class="info ">
<div class="info-desc">
<p>Usage: <code class="code">video_writer4 filename fourcc fps frame_size params</code></p>

<p>The <code class="code">params</code> parameter allows to specify extra encoder parameters encoded as pairs (paramId_1, paramValue_1, paramId_2, paramValue_2, ... .)
 see cv::VideoWriterProperties</p>
</div>
</div>

<pre><span id="VALvideo_writer5"><span class="keyword">val</span> video_writer5</span> : <code class="type">string -><br>       int -> int -> float -> <a href="Opencv.html#TYPEsize2i">Opencv.size2i</a> -> int list -> <a href="Opencv.Video_writer.html#TYPEt">t</a></code></pre><div class="info ">
<div class="info-desc">
<p>Usage: <code class="code">video_writer5 filename api_preference fourcc fps frame_size params</code></p>
</div>
</div>

<pre><span id="VALopen1"><span class="keyword">val</span> open1</span> : <code class="type">?is_color:bool -><br>       <a href="Opencv.Video_writer.html#TYPEt">t</a> -> string -> int -> float -> <a href="Opencv.html#TYPEsize2i">Opencv.size2i</a> -> bool</code></pre><div class="info ">
<div class="info-desc">
<p>Usage: <code class="code">open1 ?is_color __self filename fourcc fps frame_size</code></p>

<p>Initializes or reinitializes video writer.</p>

<p>The method opens video writer. Parameters are the same as in the constructor
    VideoWriter::VideoWriter.</p>
<ul>
<li>Returns: <code class="code">true</code> if video writer has been successfully initialized</li>
</ul>
<p>The method first calls VideoWriter::release to close the already opened file.</p>
</div>
</div>

<pre><span id="VALopen2"><span class="keyword">val</span> open2</span> : <code class="type">?is_color:bool -><br>       <a href="Opencv.Video_writer.html#TYPEt">t</a> -><br>       string -> int -> int -> float -> <a href="Opencv.html#TYPEsize2i">Opencv.size2i</a> -> bool</code></pre><div class="info ">
<div class="info-desc">
<p>Usage: <code class="code">open2 ?is_color __self filename api_preference fourcc fps frame_size</code></p>
</div>
</div>

<pre><span id="VALopen3"><span class="keyword">val</span> open3</span> : <code class="type"><a href="Opencv.Video_writer.html#TYPEt">t</a> -><br>       string -> int -> float -> <a href="Opencv.html#TYPEsize2i">Opencv.size2i</a> -> int list -> bool</code></pre><div class="info ">
<div class="info-desc">
<p>Usage: <code class="code">open3 __self filename fourcc fps frame_size params</code></p>
</div>
</div>

<pre><span id="VALopen4"><span class="keyword">val</span> open4</span> : <code class="type"><a href="Opencv.Video_writer.html#TYPEt">t</a> -><br>       string -> int -> int -> float -> <a href="Opencv.html#TYPEsize2i">Opencv.size2i</a> -> int list -> bool</code></pre><div class="info ">
<div class="info-desc">
<p>Usage: <code class="code">open4 __self filename api_preference fourcc fps frame_size params</code></p>
</div>
</div>

<pre><span id="VALis_opened"><span class="keyword">val</span> is_opened</span> : <code class="type"><a href="Opencv.Video_writer.html#TYPEt">t</a> -> bool</code></pre><div class="info ">
<div class="info-desc">
<p>Usage: <code class="code">is_opened __self</code></p>

<p>Returns true if video writer has been successfully initialized.</p>
</div>
</div>

<pre><span id="VALrelease"><span class="keyword">val</span> release</span> : <code class="type"><a href="Opencv.Video_writer.html#TYPEt">t</a> -> unit</code></pre><div class="info ">
<div class="info-desc">
<p>Usage: <code class="code">release __self</code></p>

<p>Closes the video writer.</p>

<p>The method is automatically called by subsequent VideoWriter::open and by the VideoWriter
    destructor.</p>
</div>
</div>

<pre><span id="VALwrite"><span class="keyword">val</span> write</span> : <code class="type"><a href="Opencv.Video_writer.html#TYPEt">t</a> -> <a href="Opencv.Cvdata.html#TYPEt">Opencv.Cvdata.t</a> -> unit</code></pre><div class="info ">
<div class="info-desc">
<p>Usage: <code class="code">write __self image</code></p>

<p>Writes the next video frame</p>

<ul>
<li>Parameter: <code class="code">image</code>: The written frame. In general, color images are expected in BGR format.</li>
</ul>
<p>The function/method writes the specified image to video file. It must have the same size as has
    been specified when opening the video writer.</p>
</div>
</div>

<pre><span id="VALset"><span class="keyword">val</span> set</span> : <code class="type"><a href="Opencv.Video_writer.html#TYPEt">t</a> -> int -> float -> bool</code></pre><div class="info ">
<div class="info-desc">
<p>Usage: <code class="code">set __self prop_id value</code></p>

<p>Sets a property in the VideoWriter.</p>

<ul>
<li>Parameter: <code class="code">prop_id</code>: Property identifier from cv::VideoWriterProperties (eg. cv::VIDEOWRITER_PROP_QUALITY)
     or one of  videoio_flags_others</li>
</ul>
<ul>
<li>Parameter: <code class="code">value</code>: Value of the property.</li>
<li>Returns:  <code class="code">true</code> if the property is supported by the backend used by the VideoWriter instance.</li>
</ul>
</div>
</div>

<pre><span id="VALget"><span class="keyword">val</span> get</span> : <code class="type"><a href="Opencv.Video_writer.html#TYPEt">t</a> -> int -> float</code></pre><div class="info ">
<div class="info-desc">
<p>Usage: <code class="code">get __self prop_id</code></p>

<p>Returns the specified VideoWriter property</p>

<ul>
<li>Parameter: <code class="code">prop_id</code>: Property identifier from cv::VideoWriterProperties (eg. cv::VIDEOWRITER_PROP_QUALITY)
     or one of  videoio_flags_others</li>
</ul>
<ul>
<li>Returns: Value for the specified property. Value 0 is returned when querying a property that is
     not supported by the backend used by the VideoWriter instance.</li>
</ul>
</div>
</div>

<pre><span id="VALfourcc"><span class="keyword">val</span> fourcc</span> : <code class="type">char -> char -> char -> char -> int</code></pre><div class="info ">
<div class="info-desc">
<p>Usage: <code class="code">fourcc c1 c2 c3 c4</code></p>

<p>Concatenates 4 chars to a fourcc code</p>

<ul>
<li>Returns: a fourcc code</li>
</ul>
<p>This static method constructs the fourcc code of the codec to be used in the constructor
    VideoWriter::VideoWriter or VideoWriter::open.</p>
</div>
</div>

<pre><span id="VALget_backend_name"><span class="keyword">val</span> get_backend_name</span> : <code class="type"><a href="Opencv.Video_writer.html#TYPEt">t</a> -> string</code></pre><div class="info ">
<div class="info-desc">
<p>Usage: <code class="code">get_backend_name __self</code></p>

<p>Returns used backend API name</p>

<p>Note:  Stream should be opened.</p>
</div>
</div>
</body></html>
