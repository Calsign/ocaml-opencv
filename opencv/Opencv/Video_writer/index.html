<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Video_writer (opencv.Opencv.Video_writer)</title><link rel="stylesheet" href="../../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 1.5.2"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> â€“ <a href="../../index.html">opencv</a> &#x00BB; <a href="../index.html">Opencv</a> &#x00BB; Video_writer</nav><h1>Module <code>Opencv.Video_writer</code></h1></header><dl><dt class="spec type" id="type-t"><a href="#type-t" class="anchor"></a><code><span class="keyword">type</span> t</code></dt></dl><dl><dt class="spec value" id="val-video_writer1"><a href="#val-video_writer1" class="anchor"></a><code><span class="keyword">val</span> video_writer1 : unit <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p>Usage: <code>video_writer1 ()</code></p><p>Default constructors</p><p>The constructors/functions initialize video writers.</p><ul><li>On Linux FFMPEG is used to write videos;</li><li>On Windows FFMPEG or MSWF or DSHOW is used;</li><li>On MacOSX AVFoundation is used.</li></ul></dd></dl><dl><dt class="spec value" id="val-video_writer2"><a href="#val-video_writer2" class="anchor"></a><code><span class="keyword">val</span> video_writer2 : <span>?&#8288;is_color:bool</span> <span>&#45;&gt;</span> string <span>&#45;&gt;</span> int <span>&#45;&gt;</span> float <span>&#45;&gt;</span> <a href="../index.html#type-size2i">size2i</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p>Usage: <code>video_writer2 ?is_color filename fourcc fps frame_size</code></p><ul><li>Parameter: <code>filename</code>: Name of the output video file.</li><li>Parameter: <code>fourcc</code>: 4-character code of codec used to compress the frames. For example, VideoWriter::fourcc('P','I','M','1') is a MPEG-1 codec, VideoWriter::fourcc('M','J','P','G') is a motion-jpeg codec etc. List of codes can be obtained at <code>Video Codecs by
    FOURCC</code>(http://www.fourcc.org/codecs.php) page. FFMPEG backend with MP4 container natively uses other values as fourcc code: see <code>ObjectType</code>(http://mp4ra.org/#/codecs), so you may receive a warning message from OpenCV about fourcc code conversion.</li><li>Parameter: <code>fps</code>: Framerate of the created video stream.</li><li>Parameter: <code>frame_size</code>: Size of the video frames.</li><li>Parameter: <code>is_color</code>: If it is not zero, the encoder will expect and encode color frames, otherwise it will work with grayscale frames.</li></ul><p>Tips:</p><ul><li>With some backends <code>fourcc=-1</code> pops up the codec selection dialog from the system.</li><li>To save image sequence use a proper filename (eg. <code>img_%02d.jpg</code>) and <code>fourcc=0</code> OR <code>fps=0</code>. Use uncompressed image format (eg. <code>img_%02d.BMP</code>) to save raw frames.</li><li>Most codecs are lossy. If you want lossless video file you need to use a lossless codecs (eg. FFMPEG FFV1, Huffman HFYU, Lagarith LAGS, etc...)</li><li>If FFMPEG is enabled, using <code>codec=0; fps=0;</code> you can create an uncompressed (raw) video file.</li></ul></dd></dl><dl><dt class="spec value" id="val-video_writer3"><a href="#val-video_writer3" class="anchor"></a><code><span class="keyword">val</span> video_writer3 : <span>?&#8288;is_color:bool</span> <span>&#45;&gt;</span> string <span>&#45;&gt;</span> int <span>&#45;&gt;</span> int <span>&#45;&gt;</span> float <span>&#45;&gt;</span> <a href="../index.html#type-size2i">size2i</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p>Usage: <code>video_writer3 ?is_color filename api_preference fourcc fps frame_size</code></p><p>The <code>apiPreference</code> parameter allows to specify API backends to use. Can be used to enforce a specific reader implementation if multiple are available: e.g. cv::CAP_FFMPEG or cv::CAP_GSTREAMER.</p></dd></dl><dl><dt class="spec value" id="val-video_writer4"><a href="#val-video_writer4" class="anchor"></a><code><span class="keyword">val</span> video_writer4 : string <span>&#45;&gt;</span> int <span>&#45;&gt;</span> float <span>&#45;&gt;</span> <a href="../index.html#type-size2i">size2i</a> <span>&#45;&gt;</span> <span>int list</span> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p>Usage: <code>video_writer4 filename fourcc fps frame_size params</code></p><p>* The <code>params</code> parameter allows to specify extra encoder parameters encoded as pairs (paramId_1, paramValue_1, paramId_2, paramValue_2, ... .) * see cv::VideoWriterProperties</p></dd></dl><dl><dt class="spec value" id="val-video_writer5"><a href="#val-video_writer5" class="anchor"></a><code><span class="keyword">val</span> video_writer5 : string <span>&#45;&gt;</span> int <span>&#45;&gt;</span> int <span>&#45;&gt;</span> float <span>&#45;&gt;</span> <a href="../index.html#type-size2i">size2i</a> <span>&#45;&gt;</span> <span>int list</span> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p>Usage: <code>video_writer5 filename api_preference fourcc fps frame_size params</code></p></dd></dl><dl><dt class="spec value" id="val-open1"><a href="#val-open1" class="anchor"></a><code><span class="keyword">val</span> open1 : <span>?&#8288;is_color:bool</span> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> string <span>&#45;&gt;</span> int <span>&#45;&gt;</span> float <span>&#45;&gt;</span> <a href="../index.html#type-size2i">size2i</a> <span>&#45;&gt;</span> bool</code></dt><dd><p>Usage: <code>open1 ?is_color __self filename fourcc fps frame_size</code></p><p>Initializes or reinitializes video writer.</p><p>The method opens video writer. Parameters are the same as in the constructor VideoWriter::VideoWriter.</p><ul><li>Returns: <code>true</code> if video writer has been successfully initialized</li></ul><p>The method first calls VideoWriter::release to close the already opened file.</p></dd></dl><dl><dt class="spec value" id="val-open2"><a href="#val-open2" class="anchor"></a><code><span class="keyword">val</span> open2 : <span>?&#8288;is_color:bool</span> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> string <span>&#45;&gt;</span> int <span>&#45;&gt;</span> int <span>&#45;&gt;</span> float <span>&#45;&gt;</span> <a href="../index.html#type-size2i">size2i</a> <span>&#45;&gt;</span> bool</code></dt><dd><p>Usage: <code>open2 ?is_color __self filename api_preference fourcc fps frame_size</code></p></dd></dl><dl><dt class="spec value" id="val-open3"><a href="#val-open3" class="anchor"></a><code><span class="keyword">val</span> open3 : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> string <span>&#45;&gt;</span> int <span>&#45;&gt;</span> float <span>&#45;&gt;</span> <a href="../index.html#type-size2i">size2i</a> <span>&#45;&gt;</span> <span>int list</span> <span>&#45;&gt;</span> bool</code></dt><dd><p>Usage: <code>open3 __self filename fourcc fps frame_size params</code></p></dd></dl><dl><dt class="spec value" id="val-open4"><a href="#val-open4" class="anchor"></a><code><span class="keyword">val</span> open4 : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> string <span>&#45;&gt;</span> int <span>&#45;&gt;</span> int <span>&#45;&gt;</span> float <span>&#45;&gt;</span> <a href="../index.html#type-size2i">size2i</a> <span>&#45;&gt;</span> <span>int list</span> <span>&#45;&gt;</span> bool</code></dt><dd><p>Usage: <code>open4 __self filename api_preference fourcc fps frame_size params</code></p></dd></dl><dl><dt class="spec value" id="val-is_opened"><a href="#val-is_opened" class="anchor"></a><code><span class="keyword">val</span> is_opened : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> bool</code></dt><dd><p>Usage: <code>is_opened __self</code></p><p>Returns true if video writer has been successfully initialized.</p></dd></dl><dl><dt class="spec value" id="val-release"><a href="#val-release" class="anchor"></a><code><span class="keyword">val</span> release : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> unit</code></dt><dd><p>Usage: <code>release __self</code></p><p>Closes the video writer.</p><p>The method is automatically called by subsequent VideoWriter::open and by the VideoWriter destructor.</p></dd></dl><dl><dt class="spec value" id="val-write"><a href="#val-write" class="anchor"></a><code><span class="keyword">val</span> write : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="../Cvdata/index.html#type-t">Cvdata.t</a> <span>&#45;&gt;</span> unit</code></dt><dd><p>Usage: <code>write __self image</code></p><p>Writes the next video frame</p><ul><li>Parameter: <code>image</code>: The written frame. In general, color images are expected in BGR format.</li></ul><p>The function/method writes the specified image to video file. It must have the same size as has been specified when opening the video writer.</p></dd></dl><dl><dt class="spec value" id="val-set"><a href="#val-set" class="anchor"></a><code><span class="keyword">val</span> set : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> int <span>&#45;&gt;</span> float <span>&#45;&gt;</span> bool</code></dt><dd><p>Usage: <code>set __self prop_id value</code></p><p>Sets a property in the VideoWriter.</p><ul><li>Parameter: <code>prop_id</code>: Property identifier from cv::VideoWriterProperties (eg. cv::VIDEOWRITER_PROP_QUALITY) or one of videoio_flags_others</li></ul><ul><li>Parameter: <code>value</code>: Value of the property.</li><li>Returns: <code>true</code> if the property is supported by the backend used by the VideoWriter instance.</li></ul></dd></dl><dl><dt class="spec value" id="val-get"><a href="#val-get" class="anchor"></a><code><span class="keyword">val</span> get : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> int <span>&#45;&gt;</span> float</code></dt><dd><p>Usage: <code>get __self prop_id</code></p><p>Returns the specified VideoWriter property</p><ul><li>Parameter: <code>prop_id</code>: Property identifier from cv::VideoWriterProperties (eg. cv::VIDEOWRITER_PROP_QUALITY) or one of videoio_flags_others</li></ul><ul><li>Returns: Value for the specified property. Value 0 is returned when querying a property that is not supported by the backend used by the VideoWriter instance.</li></ul></dd></dl><dl><dt class="spec value" id="val-fourcc"><a href="#val-fourcc" class="anchor"></a><code><span class="keyword">val</span> fourcc : char <span>&#45;&gt;</span> char <span>&#45;&gt;</span> char <span>&#45;&gt;</span> char <span>&#45;&gt;</span> int</code></dt><dd><p>Usage: <code>fourcc c1 c2 c3 c4</code></p><p>Concatenates 4 chars to a fourcc code</p><ul><li>Returns: a fourcc code</li></ul><p>This static method constructs the fourcc code of the codec to be used in the constructor VideoWriter::VideoWriter or VideoWriter::open.</p></dd></dl><dl><dt class="spec value" id="val-get_backend_name"><a href="#val-get_backend_name" class="anchor"></a><code><span class="keyword">val</span> get_backend_name : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> string</code></dt><dd><p>Usage: <code>get_backend_name __self</code></p><p>Returns used backend API name</p><p>Note: Stream should be opened.</p></dd></dl></div></body></html>