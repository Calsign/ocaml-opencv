<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Line_segment_detector (opencv.Opencv.Line_segment_detector)</title><link rel="stylesheet" href="../../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 1.5.2"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> â€“ <a href="../../index.html">opencv</a> &#x00BB; <a href="../index.html">Opencv</a> &#x00BB; Line_segment_detector</nav><h1>Module <code>Opencv.Line_segment_detector</code></h1></header><dl><dt class="spec type" id="type-t"><a href="#type-t" class="anchor"></a><code><span class="keyword">type</span> t</code><code> = <span>unit Ctypes_static.ptr</span></code></dt></dl><dl><dt class="spec value" id="val-clear"><a href="#val-clear" class="anchor"></a><code><span class="keyword">val</span> clear : <a href="../Algorithm/index.html#type-t">Algorithm.t</a> <span>&#45;&gt;</span> unit</code></dt><dd><p>Usage: <code>clear __self</code></p><p>Clears the algorithm state</p></dd></dl><dl><dt class="spec value" id="val-empty"><a href="#val-empty" class="anchor"></a><code><span class="keyword">val</span> empty : <a href="../Algorithm/index.html#type-t">Algorithm.t</a> <span>&#45;&gt;</span> bool</code></dt><dd><p>Usage: <code>empty __self</code></p><p>Returns true if the Algorithm is empty (e.g. in the very beginning or after unsuccessful read</p></dd></dl><dl><dt class="spec value" id="val-save"><a href="#val-save" class="anchor"></a><code><span class="keyword">val</span> save : <a href="../Algorithm/index.html#type-t">Algorithm.t</a> <span>&#45;&gt;</span> string <span>&#45;&gt;</span> unit</code></dt><dd><p>Usage: <code>save __self filename</code></p><p>Saves the algorithm to a file. In order to make this method work, the derived class must implement Algorithm::write(FileStorage&amp; fs).</p></dd></dl><dl><dt class="spec value" id="val-get_default_name"><a href="#val-get_default_name" class="anchor"></a><code><span class="keyword">val</span> get_default_name : <a href="../Algorithm/index.html#type-t">Algorithm.t</a> <span>&#45;&gt;</span> string</code></dt><dd><p>Usage: <code>get_default_name __self</code></p><p>Returns the algorithm string identifier. This string is used as top level xml/yml node tag when the object is saved to a file or string.</p></dd></dl><dl><dt class="spec value" id="val-detect"><a href="#val-detect" class="anchor"></a><code><span class="keyword">val</span> detect : <span>?&#8288;_lines:<a href="../Cvdata/index.html#type-t">Cvdata.t</a></span> <span>&#45;&gt;</span> <span>?&#8288;width:<a href="../Cvdata/index.html#type-t">Cvdata.t</a></span> <span>&#45;&gt;</span> <span>?&#8288;prec:<a href="../Cvdata/index.html#type-t">Cvdata.t</a></span> <span>&#45;&gt;</span> <span>?&#8288;nfa:<a href="../Cvdata/index.html#type-t">Cvdata.t</a></span> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="../Cvdata/index.html#type-t">Cvdata.t</a> <span>&#45;&gt;</span> <a href="../Cvdata/index.html#type-t">Cvdata.t</a> * <a href="../Cvdata/index.html#type-t">Cvdata.t</a> * <a href="../Cvdata/index.html#type-t">Cvdata.t</a> * <a href="../Cvdata/index.html#type-t">Cvdata.t</a></code></dt><dd><p>Usage: <code>detect ?_lines ?width ?prec ?nfa __self _image</code></p><p>Finds lines in the input image.</p><p>This is the output of the default parameters of the algorithm on the above shown image.</p><p>!<code>image</code>(pics/building_lsd.png)</p><ul><li>Parameter: <code>_image</code>: A grayscale (CV_8UC1) input image. If only a roi needs to be selected, use: <code>lsd_ptr-\&gt;detect(image(roi), lines, ...); lines += Scalar(roi.x, roi.y, roi.x, roi.y);</code></li><li>Parameter: <code>_lines</code>: A vector of Vec4i or Vec4f elements specifying the beginning and ending point of a line. Where Vec4i/Vec4f is (x1, y1, x2, y2), point 1 is the start, point 2 - end. Returned lines are strictly oriented depending on the gradient.</li><li>Parameter: <code>width</code>: Vector of widths of the regions, where the lines are found. E.g. Width of line.</li><li>Parameter: <code>prec</code>: Vector of precisions with which the lines are found.</li><li>Parameter: <code>nfa</code>: Vector containing number of false alarms in the line region, with precision of 10%. The bigger the value, logarithmically better the detection.</li><li>-1 corresponds to 10 mean false alarms</li><li>0 corresponds to 1 mean false alarm</li><li>1 corresponds to 0.1 mean false alarms This vector will be calculated only when the objects type is #LSD_REFINE_ADV.</li></ul></dd></dl><dl><dt class="spec value" id="val-draw_segments"><a href="#val-draw_segments" class="anchor"></a><code><span class="keyword">val</span> draw_segments : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="../Cvdata/index.html#type-t">Cvdata.t</a> <span>&#45;&gt;</span> <a href="../Cvdata/index.html#type-t">Cvdata.t</a> <span>&#45;&gt;</span> unit</code></dt><dd><p>Usage: <code>draw_segments __self _image lines</code></p><p>Draws the line segments on a given image.</p><ul><li>Parameter: <code>_image</code>: The image, where the lines will be drawn. Should be bigger or equal to the image, where the lines were found.</li><li>Parameter: <code>lines</code>: A vector of the lines that needed to be drawn.</li></ul></dd></dl><dl><dt class="spec value" id="val-compare_segments"><a href="#val-compare_segments" class="anchor"></a><code><span class="keyword">val</span> compare_segments : <span>?&#8288;_image:<a href="../Cvdata/index.html#type-t">Cvdata.t</a></span> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="../index.html#type-size2i">size2i</a> <span>&#45;&gt;</span> <a href="../Cvdata/index.html#type-t">Cvdata.t</a> <span>&#45;&gt;</span> <a href="../Cvdata/index.html#type-t">Cvdata.t</a> <span>&#45;&gt;</span> int</code></dt><dd><p>Usage: <code>compare_segments ?_image __self size lines1 lines2</code></p><p>Draws two groups of lines in blue and red, counting the non overlapping (mismatching) pixels.</p><ul><li>Parameter: <code>size</code>: The size of the image, where lines1 and lines2 were found.</li><li>Parameter: <code>lines1</code>: The first group of lines that needs to be drawn. It is visualized in blue color.</li><li>Parameter: <code>lines2</code>: The second group of lines. They visualized in red color.</li><li>Parameter: <code>_image</code>: Optional image, where the lines will be drawn. The image should be color(3-channel) in order for lines1 and lines2 to be drawn in the above mentioned colors.</li></ul></dd></dl></div></body></html>